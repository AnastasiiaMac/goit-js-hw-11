{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst searchForm = document.querySelector(\"form\");\nconst gallery = document.querySelector(\".gallery\");\nlet imgs;\nsearchForm.addEventListener(\"submit\", event => {\n    event.preventDefault()\n    gallery.innerHTML = \"\"\n    const searchData = event.target.elements.search_input.value.trim();\n    if (searchData === \"\") {\n        return iziToast.warning({\n            title: 'Caution',\n            titleColor: 'white',\n            message: 'All form fields must be filled in',\n            messageColor: 'white',\n            position: 'topCenter',\n            backgroundColor: 'red',\n        });  \n    }\n    const searchParams = new URLSearchParams(\n            {\n            key: '43761083-735c77d8194f3d0bda00bacf0',\n            q: searchData,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\"\n                \n        })\n    const url = `https://pixabay.com/api/?${searchParams}`\n    fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status)\n            }\n            return response.json()\n        })\n        .then((images) => {\n            imgs = images\n            console.log(imgs)\n            const arrayOfImages = imgs.hits\n            if (imgs.total === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please, try again!',\n                    messageColor: \"white\",\n                    backgroundColor: \"red\",\n                    position: \"topRight\"\n                });\n            } else {\n                const markup = arrayOfImages.reduce((html, image) => {\n                    return (html += `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <div class=\"full-image\">\n            <img\n              class=\"gallery-image\"\n              src=\"${image.webformatURL}\"\n              alt=\"${image.tags}\"\n            />\n            <ul  class=\"image-button\">\n              <li>\n                <p>Likes</p>\n                <p>${image.likes}</p>\n              </li>\n              <li>\n                <p>Views</p>\n                <p>${image.views}</p>\n              </li>\n              <li>\n                <p>Comments</p>\n                <p>${image.comments}</p>\n              </li>\n              <li>\n                <p>Downloads</p>\n                <p>${image.downloads}</p>\n              </li>\n            </ul>\n        </div>\n  </a>\n</li>`)\n                }, \"\");\n                gallery.insertAdjacentHTML(\"beforeend\", markup);\n            }\n            var lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n})\n        })\n        .catch((error) => console.log(error))\n        .finally(() => {\n        searchForm.reset()\n    })\n})\n\n"],"names":["searchForm","gallery","imgs","event","searchData","iziToast","url","response","images","arrayOfImages","markup","html","image","SimpleLightbox","error"],"mappings":"6vBAIA,MAAMA,EAAa,SAAS,cAAc,MAAM,EAC1CC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EACJF,EAAW,iBAAiB,SAAUG,GAAS,CAC3CA,EAAM,eAAgB,EACtBF,EAAQ,UAAY,GACpB,MAAMG,EAAaD,EAAM,OAAO,SAAS,aAAa,MAAM,OAC5D,GAAIC,IAAe,GACf,OAAOC,EAAS,QAAQ,CACpB,MAAO,UACP,WAAY,QACZ,QAAS,oCACT,aAAc,QACd,SAAU,YACV,gBAAiB,KAC7B,CAAS,EAWL,MAAMC,EAAM,4BATS,IAAI,gBACjB,CACA,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAExB,CAAS,CAC+C,GACpD,MAAME,CAAG,EACJ,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAMC,GAAW,CACdN,EAAOM,EACP,QAAQ,IAAIN,CAAI,EAChB,MAAMO,EAAgBP,EAAK,KAC3B,GAAIA,EAAK,QAAU,EACfG,EAAS,MAAM,CACX,QAAS,4EACT,aAAc,QACd,gBAAiB,MACjB,SAAU,UAC9B,CAAiB,MACE,CACH,MAAMK,EAASD,EAAc,OAAO,CAACE,EAAMC,IAC/BD,GAAQ;AAAA,kCACFC,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,qBAIhCA,EAAM,YAAY;AAAA,qBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKVA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,qBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,qBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMjB,EAAE,EACLX,EAAQ,mBAAmB,YAAaS,CAAM,CACjD,CACc,IAAIG,EAAe,aAAc,CACxD,aAAc,MACd,aAAc,GAClB,CAAC,CACD,CAAS,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACfd,EAAW,MAAO,CAC1B,CAAK,CACL,CAAC"}